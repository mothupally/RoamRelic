{"ast":null,"code":"import React,{useState,useEffect}from'react';import{MapContainer,TileLayer,Marker,Popup,useMap,useMapEvents}from'react-leaflet';import L from'leaflet';import Header from'../components/Header';// Interface for dropped pins\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Mock data for heritage locations\nconst mockLocations=[{id:'1',name:'Old Fort Gate',description:'Built in the 16 m century by the Qutb Shahi dynasty, this gate once guarded the northern approach to the city.',latitude:28.6139,longitude:77.2090,imageUrl:'/api/placeholder/400/300',audioUrl:'/api/audio/old-fort-gate.mp3',audioTitle:'Watch 305 Story',audioDuration:'0:42',category:'heritage',distance:'550 m ‚Ä¢ 45 m'},{id:'2',name:'Heritage Museum',description:'A collection of ancient artifacts and cultural treasures.',latitude:28.6129,longitude:77.2100,imageUrl:'/api/placeholder/400/300',audioUrl:'/api/audio/heritage-museum.mp3',audioTitle:'Museum History',audioDuration:'1:15',category:'museum',distance:'750 m ‚Ä¢ 12 m'}];// Fix for default markers in react-leaflet\ndelete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',iconUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',shadowUrl:'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'});// Custom hook for location services\nconst useUserLocation=()=>{const[location,setLocation]=useState(null);const[error,setError]=useState(null);const[loading,setLoading]=useState(false);const getCurrentLocation=()=>{setLoading(true);setError(null);if(!navigator.geolocation){setError('Geolocation is not supported');setLoading(false);return;}navigator.geolocation.getCurrentPosition(position=>{setLocation({latitude:position.coords.latitude,longitude:position.coords.longitude,accuracy:position.coords.accuracy});setLoading(false);},error=>{setError(error.message);setLoading(false);},{enableHighAccuracy:true,timeout:10000,maximumAge:60000});};return{location,error,loading,getCurrentLocation};};// Component to handle map centering\nconst MapController=_ref=>{let{center}=_ref;const map=useMap();useEffect(()=>{map.setView(center,15);},[center,map]);return null;};// Component to handle map click events for pin dropping\nconst MapClickHandler=_ref2=>{let{onMapClick,pinDropMode}=_ref2;useMapEvents({click:e=>{if(pinDropMode){onMapClick(e.latlng.lat,e.latlng.lng);}}});return null;};const HomeScreen=_ref3=>{var _userLocation$accurac;let{onLocationSelect}=_ref3;const{location:userLocation,error,loading,getCurrentLocation}=useUserLocation();const[mapCenter,setMapCenter]=useState([28.6139,77.2090]);// Default to Delhi\nconst[droppedPins,setDroppedPins]=useState([]);const[pinDropMode,setPinDropMode]=useState(false);// Custom icon for user location\nconst userLocationIcon=L.divIcon({html:\"<div style=\\\"background: #5dade2; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 6px rgba(0,0,0,0.3);\\\"></div>\",className:'user-location-marker',iconSize:[20,20],iconAnchor:[10,10]});// Custom icon for heritage locations\nconst heritageIcon=L.divIcon({html:\"<div style=\\\"background: #e74c3c; width: 24px; height: 24px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 6px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; color: white; font-size: 12px;\\\">\\uD83D\\uDCCD</div>\",className:'heritage-location-marker',iconSize:[24,24],iconAnchor:[12,12]});// Custom icon for dropped pins\nconst droppedPinIcon=L.divIcon({html:\"<div style=\\\"background: #f39c12; width: 22px; height: 22px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 6px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; color: white; font-size: 14px;\\\">\\uD83D\\uDCCC</div>\",className:'dropped-pin-marker',iconSize:[22,22],iconAnchor:[11,11]});const handleCurrentLocationClick=()=>{getCurrentLocation();};// Handle pin dropping\nconst handleMapClick=(lat,lng)=>{if(pinDropMode){const timestamp=new Date();const newPin={id:\"pin-\".concat(Date.now()),latitude:lat,longitude:lng,timestamp:timestamp};// Create a Location object for the dropped pin\nconst pinLocation={id:newPin.id,name:'My Dropped Pin',description:\"Pin dropped on \".concat(timestamp.toLocaleDateString(),\" at \").concat(timestamp.toLocaleTimeString(),\". Coordinates: \").concat(lat.toFixed(6),\", \").concat(lng.toFixed(6)),latitude:lat,longitude:lng,imageUrl:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop',// Default pin image\ncategory:'other',distance:'Just dropped'};setDroppedPins(prev=>[...prev,newPin]);setPinDropMode(false);// Exit pin drop mode after dropping a pin\n// Automatically select the dropped pin location\nonLocationSelect(pinLocation);}};// Toggle pin drop mode\nconst togglePinDropMode=()=>{setPinDropMode(!pinDropMode);};// Remove a dropped pin\nconst removePin=pinId=>{setDroppedPins(prev=>prev.filter(pin=>pin.id!==pinId));};// Handle clicking on an existing dropped pin\nconst handlePinClick=pin=>{const pinLocation={id:pin.id,name:'My Dropped Pin',description:\"Pin dropped on \".concat(pin.timestamp.toLocaleDateString(),\" at \").concat(pin.timestamp.toLocaleTimeString(),\". Coordinates: \").concat(pin.latitude.toFixed(6),\", \").concat(pin.longitude.toFixed(6)),latitude:pin.latitude,longitude:pin.longitude,imageUrl:'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop',// Default pin image\ncategory:'other',distance:\"Dropped \".concat(pin.timestamp.toLocaleDateString())};onLocationSelect(pinLocation);};useEffect(()=>{if(userLocation){setMapCenter([userLocation.latitude,userLocation.longitude]);}},[userLocation]);const getCurrentLocationButton=/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:togglePinDropMode,style:{background:pinDropMode?'#f39c12':'rgba(255, 255, 255, 0.9)',border:'none',borderRadius:'50%',width:'40px',height:'40px',display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer',boxShadow:'0 2px 8px rgba(0,0,0,0.2)',color:pinDropMode?'white':'#f39c12',fontSize:'16px'},title:pinDropMode?'Exit pin drop mode':'Drop a pin',children:\"\\uD83D\\uDCCC\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCurrentLocationClick,disabled:loading,style:{background:'rgba(255, 255, 255, 0.9)',border:'none',borderRadius:'50%',width:'48px',height:'48px',display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer',boxShadow:'0 2px 8px rgba(0,0,0,0.2)',color:'#5dade2'},children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",style:{width:'20px',height:'20px'}}):/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"currentColor\",width:\"24\",height:\"24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z\"})})})]});return/*#__PURE__*/_jsxs(\"div\",{className:\"app-container\",children:[/*#__PURE__*/_jsx(Header,{title:\"Home\",rightAction:getCurrentLocationButton}),/*#__PURE__*/_jsxs(\"div\",{className:\"screen\",style:{padding:0},children:[/*#__PURE__*/_jsx(\"div\",{className:\"map-container\",style:{height:'calc(100vh - 140px)',borderRadius:0},children:/*#__PURE__*/_jsxs(MapContainer,{center:mapCenter,zoom:15,style:{height:'100%',width:'100%',cursor:pinDropMode?'crosshair':'grab'},zoomControl:false,children:[/*#__PURE__*/_jsx(MapController,{center:mapCenter}),/*#__PURE__*/_jsx(MapClickHandler,{onMapClick:handleMapClick,pinDropMode:pinDropMode}),/*#__PURE__*/_jsx(TileLayer,{attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"}),userLocation&&/*#__PURE__*/_jsx(Marker,{position:[userLocation.latitude,userLocation.longitude],icon:userLocationIcon,children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Your Location\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Accuracy: \\xB1\",(_userLocation$accurac=userLocation.accuracy)===null||_userLocation$accurac===void 0?void 0:_userLocation$accurac.toFixed(0),\"m\"]})})}),mockLocations.map(location=>/*#__PURE__*/_jsx(Marker,{position:[location.latitude,location.longitude],icon:heritageIcon,eventHandlers:{click:()=>onLocationSelect(location)},children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:'200px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 8px 0',fontSize:'1rem'},children:location.name}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0 0 8px 0',fontSize:'0.875rem'},children:[location.description.substring(0,100),\"...\"]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.75rem',color:'#666'},children:location.distance}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>onLocationSelect(location),style:{marginTop:'8px',padding:'6px 12px',fontSize:'0.875rem',minHeight:'auto'},children:\"View Details\"})]})})},location.id)),droppedPins.map(pin=>/*#__PURE__*/_jsx(Marker,{position:[pin.latitude,pin.longitude],icon:droppedPinIcon,eventHandlers:{click:()=>handlePinClick(pin)},children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:'180px'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:'0 0 8px 0',fontSize:'1rem',display:'flex',alignItems:'center',gap:'8px'},children:\"\\uD83D\\uDCCC My Pin\"}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'0 0 8px 0',fontSize:'0.875rem',color:'#666'},children:[\"Dropped on \",pin.timestamp.toLocaleDateString(),\" at \",pin.timestamp.toLocaleTimeString()]}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:'0.75rem',color:'#666',marginBottom:'8px'},children:[\"Lat: \",pin.latitude.toFixed(6),/*#__PURE__*/_jsx(\"br\",{}),\"Lng: \",pin.longitude.toFixed(6)]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'8px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handlePinClick(pin),style:{flex:1,padding:'6px 12px',fontSize:'0.875rem',minHeight:'auto',background:'#f39c12',border:'none',color:'white',borderRadius:'4px',cursor:'pointer'},children:\"View Details\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removePin(pin.id),style:{padding:'6px 12px',fontSize:'0.875rem',minHeight:'auto',background:'#e74c3c',border:'none',color:'white',borderRadius:'4px',cursor:'pointer'},children:\"Remove\"})]})]})})},pin.id))]})}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'120px',right:'16px',zIndex:1000},children:/*#__PURE__*/_jsx(\"button\",{onClick:handleCurrentLocationClick,disabled:loading,style:{background:'rgba(255, 255, 255, 0.95)',border:'none',borderRadius:'50%',width:'56px',height:'56px',display:'flex',alignItems:'center',justifyContent:'center',cursor:'pointer',boxShadow:'0 4px 12px rgba(0,0,0,0.2)',color:'#5dade2',fontSize:'24px'},children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"spinner\",style:{width:'24px',height:'24px'}}):'üéØ'})}),pinDropMode&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',top:'80px',left:'16px',right:'16px',background:'rgba(243, 156, 18, 0.95)',color:'white',padding:'12px 16px',borderRadius:'8px',fontSize:'0.875rem',textAlign:'center',zIndex:1000,boxShadow:'0 2px 8px rgba(0,0,0,0.2)'},children:\"\\uD83D\\uDCCC Tap anywhere on the map to drop a pin\"}),error&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'80px',left:'16px',right:'16px',background:'#ff6b6b',color:'white',padding:'12px',borderRadius:'8px',fontSize:'0.875rem',zIndex:1000},children:[\"Location Error: \",error]}),/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:'100px',left:'16px',right:'16px'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{background:'rgba(255, 255, 255, 0.95)',backdropFilter:'blur(10px)'},children:[/*#__PURE__*/_jsx(\"h3\",{style:{marginBottom:'12px'},children:\"Nearby Heritage Sites\"}),mockLocations.slice(0,1).map(location=>/*#__PURE__*/_jsxs(\"div\",{onClick:()=>onLocationSelect(location),style:{display:'flex',alignItems:'center',padding:'8px',borderRadius:'8px',cursor:'pointer',transition:'background-color 0.2s ease'},onMouseOver:e=>e.currentTarget.style.backgroundColor='#f8f9fa',onMouseOut:e=>e.currentTarget.style.backgroundColor='transparent',children:[/*#__PURE__*/_jsx(\"div\",{style:{marginRight:'12px',fontSize:'24px'},children:\"\\uD83C\\uDFDB\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 4px 0',fontSize:'1rem'},children:location.name}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'0.875rem',color:'#666'},children:location.distance})]}),/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"#5dade2\",width:\"20\",height:\"20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\"})})]},location.id))]})})]})]});};export default HomeScreen;","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Popup","useMap","useMapEvents","L","Header","jsx","_jsx","jsxs","_jsxs","mockLocations","id","name","description","latitude","longitude","imageUrl","audioUrl","audioTitle","audioDuration","category","distance","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","useUserLocation","location","setLocation","error","setError","loading","setLoading","getCurrentLocation","navigator","geolocation","getCurrentPosition","position","coords","accuracy","message","enableHighAccuracy","timeout","maximumAge","MapController","_ref","center","map","setView","MapClickHandler","_ref2","onMapClick","pinDropMode","click","e","latlng","lat","lng","HomeScreen","_ref3","_userLocation$accurac","onLocationSelect","userLocation","mapCenter","setMapCenter","droppedPins","setDroppedPins","setPinDropMode","userLocationIcon","divIcon","html","className","iconSize","iconAnchor","heritageIcon","droppedPinIcon","handleCurrentLocationClick","handleMapClick","timestamp","Date","newPin","concat","now","pinLocation","toLocaleDateString","toLocaleTimeString","toFixed","prev","togglePinDropMode","removePin","pinId","filter","pin","handlePinClick","getCurrentLocationButton","style","display","gap","alignItems","children","onClick","background","border","borderRadius","width","height","justifyContent","cursor","boxShadow","color","fontSize","title","disabled","viewBox","fill","d","rightAction","padding","zoom","zoomControl","attribution","url","icon","eventHandlers","minWidth","margin","substring","marginTop","minHeight","marginBottom","flex","bottom","right","zIndex","top","left","textAlign","backdropFilter","slice","transition","onMouseOver","currentTarget","backgroundColor","onMouseOut","marginRight"],"sources":["/workspaces/RoamRelic/src/screens/HomeScreen.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { MapContainer, TileLayer, Marker, Popup, useMap, useMapEvents } from 'react-leaflet';\nimport L from 'leaflet';\nimport { Location, UserLocation } from '../types';\nimport Header from '../components/Header';\n\n// Interface for dropped pins\ninterface DroppedPin {\n  id: string;\n  latitude: number;\n  longitude: number;\n  timestamp: Date;\n  note?: string;\n}\n\n// Mock data for heritage locations\nconst mockLocations: Location[] = [\n  {\n    id: '1',\n    name: 'Old Fort Gate',\n    description: 'Built in the 16 m century by the Qutb Shahi dynasty, this gate once guarded the northern approach to the city.',\n    latitude: 28.6139,\n    longitude: 77.2090,\n    imageUrl: '/api/placeholder/400/300',\n    audioUrl: '/api/audio/old-fort-gate.mp3',\n    audioTitle: 'Watch 305 Story',\n    audioDuration: '0:42',\n    category: 'heritage',\n    distance: '550 m ‚Ä¢ 45 m'\n  },\n  {\n    id: '2',\n    name: 'Heritage Museum',\n    description: 'A collection of ancient artifacts and cultural treasures.',\n    latitude: 28.6129,\n    longitude: 77.2100,\n    imageUrl: '/api/placeholder/400/300',\n    audioUrl: '/api/audio/heritage-museum.mp3',\n    audioTitle: 'Museum History',\n    audioDuration: '1:15',\n    category: 'museum',\n    distance: '750 m ‚Ä¢ 12 m'\n  }\n];\n\n// Fix for default markers in react-leaflet\ndelete (L.Icon.Default.prototype as any)._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\n// Custom hook for location services\nconst useUserLocation = () => {\n  const [location, setLocation] = useState<UserLocation | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [loading, setLoading] = useState(false);\n\n  const getCurrentLocation = () => {\n    setLoading(true);\n    setError(null);\n\n    if (!navigator.geolocation) {\n      setError('Geolocation is not supported');\n      setLoading(false);\n      return;\n    }\n\n    navigator.geolocation.getCurrentPosition(\n      (position) => {\n        setLocation({\n          latitude: position.coords.latitude,\n          longitude: position.coords.longitude,\n          accuracy: position.coords.accuracy,\n        });\n        setLoading(false);\n      },\n      (error) => {\n        setError(error.message);\n        setLoading(false);\n      },\n      {\n        enableHighAccuracy: true,\n        timeout: 10000,\n        maximumAge: 60000,\n      }\n    );\n  };\n\n  return { location, error, loading, getCurrentLocation };\n};\n\n// Component to handle map centering\nconst MapController: React.FC<{ center: [number, number] }> = ({ center }) => {\n  const map = useMap();\n  \n  useEffect(() => {\n    map.setView(center, 15);\n  }, [center, map]);\n\n  return null;\n};\n\n// Component to handle map click events for pin dropping\nconst MapClickHandler: React.FC<{ \n  onMapClick: (lat: number, lng: number) => void;\n  pinDropMode: boolean;\n}> = ({ onMapClick, pinDropMode }) => {\n  useMapEvents({\n    click: (e) => {\n      if (pinDropMode) {\n        onMapClick(e.latlng.lat, e.latlng.lng);\n      }\n    },\n  });\n  return null;\n};\n\ninterface HomeScreenProps {\n  onLocationSelect: (location: Location) => void;\n}\n\nconst HomeScreen: React.FC<HomeScreenProps> = ({ onLocationSelect }) => {\n  const { location: userLocation, error, loading, getCurrentLocation } = useUserLocation();\n  const [mapCenter, setMapCenter] = useState<[number, number]>([28.6139, 77.2090]); // Default to Delhi\n  const [droppedPins, setDroppedPins] = useState<DroppedPin[]>([]);\n  const [pinDropMode, setPinDropMode] = useState(false);\n\n  // Custom icon for user location\n  const userLocationIcon = L.divIcon({\n    html: `<div style=\"background: #5dade2; width: 20px; height: 20px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 6px rgba(0,0,0,0.3);\"></div>`,\n    className: 'user-location-marker',\n    iconSize: [20, 20],\n    iconAnchor: [10, 10],\n  });\n\n  // Custom icon for heritage locations\n  const heritageIcon = L.divIcon({\n    html: `<div style=\"background: #e74c3c; width: 24px; height: 24px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 6px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; color: white; font-size: 12px;\">üìç</div>`,\n    className: 'heritage-location-marker',\n    iconSize: [24, 24],\n    iconAnchor: [12, 12],\n  });\n\n  // Custom icon for dropped pins\n  const droppedPinIcon = L.divIcon({\n    html: `<div style=\"background: #f39c12; width: 22px; height: 22px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 6px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; color: white; font-size: 14px;\">üìå</div>`,\n    className: 'dropped-pin-marker',\n    iconSize: [22, 22],\n    iconAnchor: [11, 11],\n  });\n\n  const handleCurrentLocationClick = () => {\n    getCurrentLocation();\n  };\n\n  // Handle pin dropping\n  const handleMapClick = (lat: number, lng: number) => {\n    if (pinDropMode) {\n      const timestamp = new Date();\n      const newPin: DroppedPin = {\n        id: `pin-${Date.now()}`,\n        latitude: lat,\n        longitude: lng,\n        timestamp: timestamp,\n      };\n      \n      // Create a Location object for the dropped pin\n      const pinLocation: Location = {\n        id: newPin.id,\n        name: 'My Dropped Pin',\n        description: `Pin dropped on ${timestamp.toLocaleDateString()} at ${timestamp.toLocaleTimeString()}. Coordinates: ${lat.toFixed(6)}, ${lng.toFixed(6)}`,\n        latitude: lat,\n        longitude: lng,\n        imageUrl: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop', // Default pin image\n        category: 'other',\n        distance: 'Just dropped'\n      };\n      \n      setDroppedPins(prev => [...prev, newPin]);\n      setPinDropMode(false); // Exit pin drop mode after dropping a pin\n      \n      // Automatically select the dropped pin location\n      onLocationSelect(pinLocation);\n    }\n  };\n\n  // Toggle pin drop mode\n  const togglePinDropMode = () => {\n    setPinDropMode(!pinDropMode);\n  };\n\n  // Remove a dropped pin\n  const removePin = (pinId: string) => {\n    setDroppedPins(prev => prev.filter(pin => pin.id !== pinId));\n  };\n\n  // Handle clicking on an existing dropped pin\n  const handlePinClick = (pin: DroppedPin) => {\n    const pinLocation: Location = {\n      id: pin.id,\n      name: 'My Dropped Pin',\n      description: `Pin dropped on ${pin.timestamp.toLocaleDateString()} at ${pin.timestamp.toLocaleTimeString()}. Coordinates: ${pin.latitude.toFixed(6)}, ${pin.longitude.toFixed(6)}`,\n      latitude: pin.latitude,\n      longitude: pin.longitude,\n      imageUrl: 'https://images.unsplash.com/photo-1506905925346-21bda4d32df4?w=800&h=600&fit=crop', // Default pin image\n      category: 'other',\n      distance: `Dropped ${pin.timestamp.toLocaleDateString()}`\n    };\n    onLocationSelect(pinLocation);\n  };\n\n  useEffect(() => {\n    if (userLocation) {\n      setMapCenter([userLocation.latitude, userLocation.longitude]);\n    }\n  }, [userLocation]);\n\n  const getCurrentLocationButton = (\n    <div style={{ display: 'flex', gap: '8px', alignItems: 'center' }}>\n      {/* Pin Drop Mode Toggle Button */}\n      <button\n        onClick={togglePinDropMode}\n        style={{\n          background: pinDropMode ? '#f39c12' : 'rgba(255, 255, 255, 0.9)',\n          border: 'none',\n          borderRadius: '50%',\n          width: '40px',\n          height: '40px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          cursor: 'pointer',\n          boxShadow: '0 2px 8px rgba(0,0,0,0.2)',\n          color: pinDropMode ? 'white' : '#f39c12',\n          fontSize: '16px',\n        }}\n        title={pinDropMode ? 'Exit pin drop mode' : 'Drop a pin'}\n      >\n        üìå\n      </button>\n      \n      {/* Current Location Button */}\n      <button\n        onClick={handleCurrentLocationClick}\n        disabled={loading}\n        style={{\n          background: 'rgba(255, 255, 255, 0.9)',\n          border: 'none',\n          borderRadius: '50%',\n          width: '48px',\n          height: '48px',\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          cursor: 'pointer',\n          boxShadow: '0 2px 8px rgba(0,0,0,0.2)',\n          color: '#5dade2',\n        }}\n      >\n        {loading ? (\n          <div className=\"spinner\" style={{ width: '20px', height: '20px' }}></div>\n        ) : (\n          <svg viewBox=\"0 0 24 24\" fill=\"currentColor\" width=\"24\" height=\"24\">\n            <path d=\"M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z\" />\n          </svg>\n        )}\n      </button>\n    </div>\n  );\n\n  return (\n    <div className=\"app-container\">\n      <Header title=\"Home\" rightAction={getCurrentLocationButton} />\n      \n      <div className=\"screen\" style={{ padding: 0 }}>\n        <div className=\"map-container\" style={{ height: 'calc(100vh - 140px)', borderRadius: 0 }}>\n          <MapContainer\n            center={mapCenter}\n            zoom={15}\n            style={{ \n              height: '100%', \n              width: '100%',\n              cursor: pinDropMode ? 'crosshair' : 'grab'\n            }}\n            zoomControl={false}\n          >\n            <MapController center={mapCenter} />\n            <MapClickHandler onMapClick={handleMapClick} pinDropMode={pinDropMode} />\n            <TileLayer\n              attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            \n            {/* User location marker */}\n            {userLocation && (\n              <Marker\n                position={[userLocation.latitude, userLocation.longitude]}\n                icon={userLocationIcon}\n              >\n                <Popup>\n                  <div>\n                    <strong>Your Location</strong>\n                    <br />\n                    Accuracy: ¬±{userLocation.accuracy?.toFixed(0)}m\n                  </div>\n                </Popup>\n              </Marker>\n            )}\n\n            {/* Heritage location markers */}\n            {mockLocations.map((location) => (\n              <Marker\n                key={location.id}\n                position={[location.latitude, location.longitude]}\n                icon={heritageIcon}\n                eventHandlers={{\n                  click: () => onLocationSelect(location),\n                }}\n              >\n                <Popup>\n                  <div style={{ minWidth: '200px' }}>\n                    <h3 style={{ margin: '0 0 8px 0', fontSize: '1rem' }}>\n                      {location.name}\n                    </h3>\n                    <p style={{ margin: '0 0 8px 0', fontSize: '0.875rem' }}>\n                      {location.description.substring(0, 100)}...\n                    </p>\n                    <div style={{ fontSize: '0.75rem', color: '#666' }}>\n                      {location.distance}\n                    </div>\n                    <button\n                      onClick={() => onLocationSelect(location)}\n                      style={{\n                        marginTop: '8px',\n                        padding: '6px 12px',\n                        fontSize: '0.875rem',\n                        minHeight: 'auto',\n                      }}\n                    >\n                      View Details\n                    </button>\n                  </div>\n                </Popup>\n              </Marker>\n            ))}\n\n            {/* Dropped pins */}\n            {droppedPins.map((pin) => (\n              <Marker\n                key={pin.id}\n                position={[pin.latitude, pin.longitude]}\n                icon={droppedPinIcon}\n                eventHandlers={{\n                  click: () => handlePinClick(pin),\n                }}\n              >\n                <Popup>\n                  <div style={{ minWidth: '180px' }}>\n                    <h3 style={{ margin: '0 0 8px 0', fontSize: '1rem', display: 'flex', alignItems: 'center', gap: '8px' }}>\n                      üìå My Pin\n                    </h3>\n                    <p style={{ margin: '0 0 8px 0', fontSize: '0.875rem', color: '#666' }}>\n                      Dropped on {pin.timestamp.toLocaleDateString()} at {pin.timestamp.toLocaleTimeString()}\n                    </p>\n                    <div style={{ fontSize: '0.75rem', color: '#666', marginBottom: '8px' }}>\n                      Lat: {pin.latitude.toFixed(6)}<br />\n                      Lng: {pin.longitude.toFixed(6)}\n                    </div>\n                    <div style={{ display: 'flex', gap: '8px' }}>\n                      <button\n                        onClick={() => handlePinClick(pin)}\n                        style={{\n                          flex: 1,\n                          padding: '6px 12px',\n                          fontSize: '0.875rem',\n                          minHeight: 'auto',\n                          background: '#f39c12',\n                          border: 'none',\n                          color: 'white',\n                          borderRadius: '4px',\n                          cursor: 'pointer',\n                        }}\n                      >\n                        View Details\n                      </button>\n                      <button\n                        onClick={() => removePin(pin.id)}\n                        style={{\n                          padding: '6px 12px',\n                          fontSize: '0.875rem',\n                          minHeight: 'auto',\n                          background: '#e74c3c',\n                          border: 'none',\n                          color: 'white',\n                          borderRadius: '4px',\n                          cursor: 'pointer',\n                        }}\n                      >\n                        Remove\n                      </button>\n                    </div>\n                  </div>\n                </Popup>\n              </Marker>\n            ))}\n          </MapContainer>\n        </div>\n\n        {/* Current location button - positioned over map */}\n        <div\n          style={{\n            position: 'absolute',\n            bottom: '120px',\n            right: '16px',\n            zIndex: 1000,\n          }}\n        >\n          <button\n            onClick={handleCurrentLocationClick}\n            disabled={loading}\n            style={{\n              background: 'rgba(255, 255, 255, 0.95)',\n              border: 'none',\n              borderRadius: '50%',\n              width: '56px',\n              height: '56px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              cursor: 'pointer',\n              boxShadow: '0 4px 12px rgba(0,0,0,0.2)',\n              color: '#5dade2',\n              fontSize: '24px',\n            }}\n          >\n            {loading ? (\n              <div className=\"spinner\" style={{ width: '24px', height: '24px' }}></div>\n            ) : (\n              'üéØ'\n            )}\n          </button>\n        </div>\n\n        {/* Pin drop mode indicator */}\n        {pinDropMode && (\n          <div\n            style={{\n              position: 'absolute',\n              top: '80px',\n              left: '16px',\n              right: '16px',\n              background: 'rgba(243, 156, 18, 0.95)',\n              color: 'white',\n              padding: '12px 16px',\n              borderRadius: '8px',\n              fontSize: '0.875rem',\n              textAlign: 'center',\n              zIndex: 1000,\n              boxShadow: '0 2px 8px rgba(0,0,0,0.2)',\n            }}\n          >\n            üìå Tap anywhere on the map to drop a pin\n          </div>\n        )}\n\n        {/* Error message */}\n        {error && (\n          <div\n            style={{\n              position: 'absolute',\n              top: '80px',\n              left: '16px',\n              right: '16px',\n              background: '#ff6b6b',\n              color: 'white',\n              padding: '12px',\n              borderRadius: '8px',\n              fontSize: '0.875rem',\n              zIndex: 1000,\n            }}\n          >\n            Location Error: {error}\n          </div>\n        )}\n\n        {/* Location list */}\n        <div style={{ position: 'absolute', bottom: '100px', left: '16px', right: '16px' }}>\n          <div className=\"card\" style={{ background: 'rgba(255, 255, 255, 0.95)', backdropFilter: 'blur(10px)' }}>\n            <h3 style={{ marginBottom: '12px' }}>Nearby Heritage Sites</h3>\n            {mockLocations.slice(0, 1).map((location) => (\n              <div\n                key={location.id}\n                onClick={() => onLocationSelect(location)}\n                style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  padding: '8px',\n                  borderRadius: '8px',\n                  cursor: 'pointer',\n                  transition: 'background-color 0.2s ease',\n                }}\n                onMouseOver={(e) => (e.currentTarget.style.backgroundColor = '#f8f9fa')}\n                onMouseOut={(e) => (e.currentTarget.style.backgroundColor = 'transparent')}\n              >\n                <div style={{ marginRight: '12px', fontSize: '24px' }}>üèõÔ∏è</div>\n                <div style={{ flex: 1 }}>\n                  <h4 style={{ margin: '0 0 4px 0', fontSize: '1rem' }}>{location.name}</h4>\n                  <div style={{ fontSize: '0.875rem', color: '#666' }}>{location.distance}</div>\n                </div>\n                <svg viewBox=\"0 0 24 24\" fill=\"#5dade2\" width=\"20\" height=\"20\">\n                  <path d=\"M8.59,16.58L13.17,12L8.59,7.41L10,6L16,12L10,18L8.59,16.58Z\" />\n                </svg>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default HomeScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}